<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kronos OS - Advanced System Monitor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Ubuntu', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .monitor-window {
            width: 1200px;
            height: 800px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid #ddd;
        }
        
        .monitor-header {
            background: linear-gradient(to right, #E95420, #D44414);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .monitor-title {
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .monitor-controls {
            display: flex;
            gap: 8px;
        }
        
        .control-btn {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }
        
        .minimize { background: #FFC107; color: #333; }
        .maximize { background: #28A745; color: white; }
        .close { background: #DC3545; color: white; }
        
        .monitor-toolbar {
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .toolbar-btn {
            background: #28A745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }
        
        .toolbar-btn:hover {
            background: #218838;
        }
        
        .toolbar-btn.danger {
            background: #dc3545;
        }
        
        .toolbar-btn.danger:hover {
            background: #c82333;
        }
        
        .auto-refresh-toggle {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .monitor-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        .monitor-sidebar {
            width: 220px;
            background: #f8f9fa;
            border-right: 1px solid #dee2e6;
            overflow-y: auto;
        }
        
        .category-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .category-item:hover {
            background: #e9ecef;
        }
        
        .category-item.active {
            background: #E95420;
            color: white;
            border-left: 4px solid #D44414;
        }
        
        .category-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }
        
        .category-info {
            flex: 1;
        }
        
        .category-name {
            font-weight: 600;
            margin-bottom: 2px;
        }
        
        .category-desc {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .monitor-main {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: white;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.2s;
        }
        
        .stat-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: #E95420;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-value.cpu { color: #28a745; }
        .stat-value.memory { color: #007bff; }
        .stat-value.disk { color: #fd7e14; }
        .stat-value.network { color: #6f42c1; }
        .stat-value.temperature { color: #dc3545; }
        
        .stat-label {
            color: #666;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.5s ease;
        }
        
        .progress-fill.cpu { background: #28a745; }
        .progress-fill.memory { background: #007bff; }
        .progress-fill.disk { background: #fd7e14; }
        .progress-fill.network { background: #6f42c1; }
        
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .info-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
        }
        
        .info-card h4 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .info-label {
            color: #666;
        }
        
        .info-value {
            font-weight: 600;
        }
        
        .processes-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .processes-table th {
            padding: 12px;
            text-align: left;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            font-weight: 600;
            cursor: pointer;
        }
        
        .processes-table th:hover {
            background: #e9ecef;
        }
        
        .processes-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #f1f3f4;
        }
        
        .process-row {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .process-row:hover {
            background-color: #f8f9fa;
        }
        
        .process-row.selected {
            background-color: #e3f2fd;
        }
        
        .status-running { color: #28a745; }
        .status-sleeping { color: #6c757d; }
        .cpu-high { color: #dc3545; }
        .cpu-medium { color: #fd7e14; }
        .cpu-low { color: #28a745; }
        
        .demo-info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
        }
        
        .demo-info h3 {
            margin-bottom: 10px;
            color: #E95420;
        }
        
        .demo-info ul {
            list-style: none;
            padding-left: 0;
        }
        
        .demo-info li {
            margin-bottom: 5px;
            padding-left: 15px;
            position: relative;
        }
        
        .demo-info li:before {
            content: "▶";
            position: absolute;
            left: 0;
            color: #E95420;
        }
    </style>
</head>
<body>
    <div class="demo-info">
        <h3>📊 System Monitor Demo</h3>
        <ul>
            <li>Real-time performance tracking</li>
            <li>Process management</li>
            <li>Network monitoring</li>
            <li>Storage analysis</li>
            <li>Auto-refresh every second</li>
        </ul>
    </div>

    <div class="monitor-window">
        <div class="monitor-header">
            <div class="monitor-title">
                <span>📊</span>
                <span>Kronos System Monitor - Real-time Performance Tracking</span>
            </div>
            <div class="monitor-controls">
                <button class="control-btn minimize">−</button>
                <button class="control-btn maximize">□</button>
                <button class="control-btn close">×</button>
            </div>
        </div>

        <div class="monitor-toolbar">
            <button class="toolbar-btn" onclick="refreshData()">🔄 Refresh</button>
            <div class="auto-refresh-toggle">
                <input type="checkbox" id="autoRefresh" checked onchange="toggleAutoRefresh()">
                <label for="autoRefresh">Auto-refresh (1s)</label>
            </div>
            <button class="toolbar-btn danger" onclick="killSelectedProcess()">🗑️ End Process</button>
            <div style="margin-left: auto; display: flex; align-items: center; gap: 10px;">
                <span style="font-size: 12px; color: #666;">View:</span>
                <select id="viewSelect" onchange="changeView()" style="padding: 6px; border: 1px solid #ccc; border-radius: 3px;">
                    <option value="overview">Overview</option>
                    <option value="processes">Processes</option>
                    <option value="performance">Performance</option>
                    <option value="network">Network</option>
                    <option value="storage">Storage</option>
                </select>
            </div>
        </div>

        <div class="monitor-content">
            <div class="monitor-sidebar">
                <div class="category-item active" onclick="selectCategory('overview')" data-category="overview">
                    <div class="category-icon">📊</div>
                    <div class="category-info">
                        <div class="category-name">Overview</div>
                        <div class="category-desc">System summary</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('processes')" data-category="processes">
                    <div class="category-icon">⚙️</div>
                    <div class="category-info">
                        <div class="category-name">Processes</div>
                        <div class="category-desc">Running tasks</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('performance')" data-category="performance">
                    <div class="category-icon">⚡</div>
                    <div class="category-info">
                        <div class="category-name">Performance</div>
                        <div class="category-desc">Real-time stats</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('network')" data-category="network">
                    <div class="category-icon">🌐</div>
                    <div class="category-info">
                        <div class="category-name">Network</div>
                        <div class="category-desc">Traffic & connections</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('storage')" data-category="storage">
                    <div class="category-icon">💿</div>
                    <div class="category-info">
                        <div class="category-name">Storage</div>
                        <div class="category-desc">Disk usage</div>
                    </div>
                </div>
            </div>

            <div class="monitor-main" id="mainContent">
                <!-- Overview Content (Default) -->
                <div class="section-title">
                    <span>📊</span>
                    <span>System Overview</span>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value cpu" id="cpuUsage">15.2%</div>
                        <div class="stat-label">CPU Usage</div>
                        <div class="progress-bar">
                            <div class="progress-fill cpu" id="cpuBar" style="width: 15.2%;"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value memory" id="memoryUsage">26%</div>
                        <div class="stat-label">Memory Usage</div>
                        <div class="progress-bar">
                            <div class="progress-fill memory" id="memoryBar" style="width: 26%;"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value disk" id="diskUsage">50%</div>
                        <div class="stat-label">Disk Usage</div>
                        <div class="progress-bar">
                            <div class="progress-fill disk" id="diskBar" style="width: 50%;"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value network" id="networkSpeed">1.2 MB/s</div>
                        <div class="stat-label">Network I/O</div>
                        <div class="progress-bar">
                            <div class="progress-fill network" id="networkBar" style="width: 30%;"></div>
                        </div>
                    </div>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h4>System Information</h4>
                        <div class="info-item">
                            <span class="info-label">Uptime:</span>
                            <span class="info-value" id="uptime">2 days, 14:32:18</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Processes:</span>
                            <span class="info-value" id="processCount">187</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Load Average:</span>
                            <span class="info-value" id="loadAverage">0.85, 0.72, 0.68</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">CPU Temperature:</span>
                            <span class="info-value temperature" id="cpuTemp">45.2°C</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4>Top Processes</h4>
                        <div id="topProcesses">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 12px; color: #666;">
                                <span>Process</span>
                                <span>CPU%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span>kronos-desktop</span>
                                <span class="cpu-medium">8.2%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span>system-monitor</span>
                                <span class="cpu-low">3.1%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span>terminal</span>
                                <span class="cpu-low">1.8%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span>file-manager</span>
                                <span class="cpu-low">1.2%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>systemd</span>
                                <span class="cpu-low">0.5%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // System Monitor State
        let currentCategory = 'overview';
        let autoRefresh = true;
        let refreshInterval;
        let selectedProcess = null;

        // Simulated system data
        let systemData = {
            cpu: {
                usage: 15.2,
                temperature: 45.2,
                cores: [12.1, 18.3, 14.7, 16.9],
                frequency: 2.4
            },
            memory: {
                total: 8589934592, // 8GB
                used: 2234567890,  // ~2.1GB
                available: 6355366702,
                percentage: 26
            },
            disk: {
                total: 274877906944, // 256GB
                used: 137438953472,  // 128GB
                percentage: 50
            },
            network: {
                bytesIn: 1234567890,
                bytesOut: 987654321,
                packetsIn: 1234567,
                packetsOut: 987654,
                speed: 1.2 // MB/s
            },
            processes: [
                { pid: 1234, name: 'kronos-desktop', cpu: 8.2, memory: 156.7, user: 'user', status: 'Running' },
                { pid: 5678, name: 'system-monitor', cpu: 3.1, memory: 89.3, user: 'user', status: 'Running' },
                { pid: 9012, name: 'terminal', cpu: 1.8, memory: 45.2, user: 'user', status: 'Running' },
                { pid: 3456, name: 'file-manager', cpu: 1.2, memory: 67.8, user: 'user', status: 'Running' },
                { pid: 7890, name: 'systemd', cpu: 0.5, memory: 23.4, user: 'root', status: 'Running' },
                { pid: 2468, name: 'network-manager', cpu: 0.3, memory: 34.5, user: 'root', status: 'Running' },
                { pid: 1357, name: 'audio-service', cpu: 0.2, memory: 12.3, user: 'user', status: 'Running' },
                { pid: 8642, name: 'update-daemon', cpu: 0.1, memory: 8.9, user: 'root', status: 'Sleeping' }
            ],
            uptime: 214392, // seconds
            loadAverage: [0.85, 0.72, 0.68]
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            startAutoRefresh();
            updateData();
            showNotification('System Monitor initialized successfully!');
        });

        // Category selection
        function selectCategory(category) {
            currentCategory = category;

            // Update sidebar
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');

            // Update view selector
            document.getElementById('viewSelect').value = category;

            // Load category content
            loadCategoryContent(category);
        }

        // Change view from dropdown
        function changeView() {
            const category = document.getElementById('viewSelect').value;
            selectCategory(category);
        }

        // Load category content
        function loadCategoryContent(category) {
            const content = document.getElementById('mainContent');

            switch (category) {
                case 'overview':
                    loadOverviewContent(content);
                    break;
                case 'processes':
                    loadProcessesContent(content);
                    break;
                case 'performance':
                    loadPerformanceContent(content);
                    break;
                case 'network':
                    loadNetworkContent(content);
                    break;
                case 'storage':
                    loadStorageContent(content);
                    break;
            }
        }

        // Update system data
        function updateData() {
            // Simulate real-time data changes
            systemData.cpu.usage = 10 + Math.random() * 30;
            systemData.cpu.temperature = 40 + Math.random() * 20;
            systemData.cpu.cores = systemData.cpu.cores.map(() => 5 + Math.random() * 25);
            systemData.memory.used = systemData.memory.total * (0.2 + Math.random() * 0.3);
            systemData.memory.percentage = (systemData.memory.used / systemData.memory.total) * 100;
            systemData.memory.available = systemData.memory.total - systemData.memory.used;
            systemData.network.speed = 0.5 + Math.random() * 2;
            systemData.uptime += 1;
            systemData.loadAverage = systemData.loadAverage.map(() => 0.3 + Math.random() * 1.2);

            // Update processes CPU usage
            systemData.processes.forEach(process => {
                process.cpu = Math.max(0.1, process.cpu + (Math.random() - 0.5) * 2);
            });

            // Update current view
            if (currentCategory === 'overview') {
                updateOverviewData();
            } else {
                loadCategoryContent(currentCategory);
            }
        }

        // Update overview data
        function updateOverviewData() {
            // Update performance cards
            document.getElementById('cpuUsage').textContent = `${systemData.cpu.usage.toFixed(1)}%`;
            document.getElementById('cpuBar').style.width = `${systemData.cpu.usage}%`;

            document.getElementById('memoryUsage').textContent = `${systemData.memory.percentage.toFixed(0)}%`;
            document.getElementById('memoryBar').style.width = `${systemData.memory.percentage}%`;

            document.getElementById('diskUsage').textContent = `${systemData.disk.percentage}%`;
            document.getElementById('diskBar').style.width = `${systemData.disk.percentage}%`;

            document.getElementById('networkSpeed').textContent = `${systemData.network.speed.toFixed(1)} MB/s`;
            document.getElementById('networkBar').style.width = `${Math.min(100, systemData.network.speed * 20)}%`;

            // Update system info
            document.getElementById('uptime').textContent = formatUptime(systemData.uptime);
            document.getElementById('processCount').textContent = systemData.processes.length;
            document.getElementById('loadAverage').textContent = systemData.loadAverage.map(l => l.toFixed(2)).join(', ');
            document.getElementById('cpuTemp').textContent = `${systemData.cpu.temperature.toFixed(1)}°C`;

            // Update top processes
            const sortedProcesses = [...systemData.processes].sort((a, b) => b.cpu - a.cpu).slice(0, 5);
            document.getElementById('topProcesses').innerHTML = `
                <div style="display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 12px; color: #666;">
                    <span>Process</span>
                    <span>CPU%</span>
                </div>
                ${sortedProcesses.map(process => `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>${process.name}</span>
                        <span class="${process.cpu > 5 ? 'cpu-high' : process.cpu > 2 ? 'cpu-medium' : 'cpu-low'}">${process.cpu.toFixed(1)}%</span>
                    </div>
                `).join('')}
            `;
        }

        // Load overview content (default)
        function loadOverviewContent(content) {
            content.innerHTML = `
                <div class="section-title">
                    <span>📊</span>
                    <span>System Overview</span>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value cpu" id="cpuUsage">${systemData.cpu.usage.toFixed(1)}%</div>
                        <div class="stat-label">CPU Usage</div>
                        <div class="progress-bar">
                            <div class="progress-fill cpu" id="cpuBar" style="width: ${systemData.cpu.usage}%;"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value memory" id="memoryUsage">${systemData.memory.percentage.toFixed(0)}%</div>
                        <div class="stat-label">Memory Usage</div>
                        <div class="progress-bar">
                            <div class="progress-fill memory" id="memoryBar" style="width: ${systemData.memory.percentage}%;"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value disk" id="diskUsage">${systemData.disk.percentage}%</div>
                        <div class="stat-label">Disk Usage</div>
                        <div class="progress-bar">
                            <div class="progress-fill disk" id="diskBar" style="width: ${systemData.disk.percentage}%;"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value network" id="networkSpeed">${systemData.network.speed.toFixed(1)} MB/s</div>
                        <div class="stat-label">Network I/O</div>
                        <div class="progress-bar">
                            <div class="progress-fill network" id="networkBar" style="width: ${Math.min(100, systemData.network.speed * 20)}%;"></div>
                        </div>
                    </div>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h4>System Information</h4>
                        <div class="info-item">
                            <span class="info-label">Uptime:</span>
                            <span class="info-value" id="uptime">${formatUptime(systemData.uptime)}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Processes:</span>
                            <span class="info-value" id="processCount">${systemData.processes.length}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Load Average:</span>
                            <span class="info-value" id="loadAverage">${systemData.loadAverage.map(l => l.toFixed(2)).join(', ')}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">CPU Temperature:</span>
                            <span class="info-value temperature" id="cpuTemp">${systemData.cpu.temperature.toFixed(1)}°C</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4>Top Processes</h4>
                        <div id="topProcesses">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 12px; color: #666;">
                                <span>Process</span>
                                <span>CPU%</span>
                            </div>
                            ${systemData.processes.sort((a, b) => b.cpu - a.cpu).slice(0, 5).map(process => `
                                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                    <span>${process.name}</span>
                                    <span class="${process.cpu > 5 ? 'cpu-high' : process.cpu > 2 ? 'cpu-medium' : 'cpu-low'}">${process.cpu.toFixed(1)}%</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // Control functions
        function refreshData() {
            updateData();
            showNotification('Data refreshed!');
        }

        function toggleAutoRefresh() {
            autoRefresh = document.getElementById('autoRefresh').checked;
            if (autoRefresh) {
                startAutoRefresh();
                showNotification('Auto-refresh enabled');
            } else {
                stopAutoRefresh();
                showNotification('Auto-refresh disabled');
            }
        }

        function startAutoRefresh() {
            if (refreshInterval) clearInterval(refreshInterval);
            refreshInterval = setInterval(updateData, 1000); // Update every second
        }

        function stopAutoRefresh() {
            if (refreshInterval) {
                clearInterval(refreshInterval);
                refreshInterval = null;
            }
        }

        // Utility functions
        function formatUptime(seconds) {
            const days = Math.floor(seconds / 86400);
            const hours = Math.floor((seconds % 86400) / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;

            if (days > 0) {
                return `${days} days, ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
        }

        function showNotification(message) {
            // Simple notification simulation
            console.log(`Notification: ${message}`);
        }

        // Process management (simplified for demo)
        function selectProcess(pid) {
            selectedProcess = pid;
            document.querySelectorAll('.process-row').forEach(row => {
                row.classList.remove('selected');
            });
            document.querySelector(`[data-pid="${pid}"]`).classList.add('selected');
        }

        function killProcess(pid) {
            const process = systemData.processes.find(p => p.pid === pid);
            if (process && confirm(`Kill process "${process.name}" (PID: ${pid})?`)) {
                systemData.processes = systemData.processes.filter(p => p.pid !== pid);
                if (currentCategory === 'processes') {
                    loadCategoryContent('processes');
                }
                showNotification(`Process ${process.name} terminated`);
            }
        }

        function killSelectedProcess() {
            if (selectedProcess) {
                killProcess(selectedProcess);
                selectedProcess = null;
            } else {
                alert('No process selected');
            }
        }

        // Load processes content
        function loadProcessesContent(content) {
            content.innerHTML = `
                <div class="section-title">
                    <span>⚙️</span>
                    <span>Running Processes</span>
                </div>

                <div style="background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>Total: </strong><span>${systemData.processes.length}</span>
                            <span style="margin-left: 20px;"><strong>Running: </strong><span>${systemData.processes.filter(p => p.status === 'Running').length}</span></span>
                            <span style="margin-left: 20px;"><strong>Sleeping: </strong><span>${systemData.processes.filter(p => p.status === 'Sleeping').length}</span></span>
                        </div>
                        <input type="text" placeholder="Search processes..." style="padding: 6px; border: 1px solid #ccc; border-radius: 4px;" onkeyup="filterProcesses(this.value)">
                    </div>
                </div>

                <table class="processes-table" id="processesTable">
                    <thead>
                        <tr>
                            <th onclick="sortProcesses('pid')">PID</th>
                            <th onclick="sortProcesses('name')">Process Name</th>
                            <th onclick="sortProcesses('cpu')">CPU %</th>
                            <th onclick="sortProcesses('memory')">Memory (MB)</th>
                            <th onclick="sortProcesses('user')">User</th>
                            <th onclick="sortProcesses('status')">Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${generateProcessRows()}
                    </tbody>
                </table>
            `;
        }

        // Generate process table rows
        function generateProcessRows() {
            return systemData.processes.map(process => `
                <tr class="process-row" onclick="selectProcess(${process.pid})" data-pid="${process.pid}">
                    <td>${process.pid}</td>
                    <td style="font-weight: 600;">${process.name}</td>
                    <td>
                        <span class="${process.cpu > 5 ? 'cpu-high' : process.cpu > 2 ? 'cpu-medium' : 'cpu-low'}">
                            ${process.cpu.toFixed(1)}%
                        </span>
                    </td>
                    <td>${process.memory.toFixed(1)} MB</td>
                    <td>${process.user}</td>
                    <td>
                        <span class="status-${process.status.toLowerCase()}">
                            ${process.status}
                        </span>
                    </td>
                    <td>
                        <button onclick="killProcess(${process.pid})" style="background: #dc3545; color: white; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; font-size: 12px;">Kill</button>
                    </td>
                </tr>
            `).join('');
        }

        function filterProcesses(query) {
            const rows = document.querySelectorAll('.process-row');
            rows.forEach(row => {
                const processName = row.children[1].textContent.toLowerCase();
                if (processName.includes(query.toLowerCase())) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        function sortProcesses(column) {
            showNotification(`Sorting by ${column}`);
        }

        function loadPerformanceContent(content) {
            content.innerHTML = `
                <div class="section-title">
                    <span>⚡</span>
                    <span>Performance Monitoring</span>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                    <div class="info-card">
                        <h4>CPU Performance</h4>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Overall Usage</span>
                                <span style="font-weight: 600;">${systemData.cpu.usage.toFixed(1)}%</span>
                            </div>
                            <div style="width: 100%; height: 8px; background: #e9ecef; border-radius: 4px;">
                                <div style="height: 100%; background: linear-gradient(90deg, #28a745, #20c997); width: ${systemData.cpu.usage}%; border-radius: 4px; transition: width 0.5s ease;"></div>
                            </div>
                        </div>

                        <div style="margin-bottom: 15px;">
                            <div style="font-weight: 600; margin-bottom: 8px;">Per-Core Usage:</div>
                            ${systemData.cpu.cores.map((usage, index) => `
                                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                    <span>Core ${index + 1}</span>
                                    <span>${usage.toFixed(1)}%</span>
                                </div>
                                <div style="width: 100%; height: 4px; background: #e9ecef; border-radius: 2px; margin-bottom: 8px;">
                                    <div style="height: 100%; background: #007bff; width: ${usage}%; border-radius: 2px; transition: width 0.5s ease;"></div>
                                </div>
                            `).join('')}
                        </div>

                        <div style="display: flex; justify-content: space-between;">
                            <span>Temperature:</span>
                            <span style="font-weight: 600; color: #dc3545;">${systemData.cpu.temperature.toFixed(1)}°C</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4>Memory Performance</h4>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Used Memory</span>
                                <span style="font-weight: 600;">${(systemData.memory.used / (1024**3)).toFixed(1)} GB / ${(systemData.memory.total / (1024**3)).toFixed(1)} GB</span>
                            </div>
                            <div style="width: 100%; height: 8px; background: #e9ecef; border-radius: 4px;">
                                <div style="height: 100%; background: linear-gradient(90deg, #007bff, #6610f2); width: ${systemData.memory.percentage}%; border-radius: 4px; transition: width 0.5s ease;"></div>
                            </div>
                        </div>

                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span>Available:</span>
                                <span>${(systemData.memory.available / (1024**3)).toFixed(1)} GB</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <span>Usage:</span>
                                <span>${systemData.memory.percentage.toFixed(1)}%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-card">
                    <h4>System Load</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center;">
                        <div>
                            <div style="font-size: 24px; font-weight: bold; color: #fd7e14; margin-bottom: 5px;">${systemData.loadAverage[0].toFixed(2)}</div>
                            <div style="color: #666; font-size: 12px;">1 Minute</div>
                        </div>
                        <div>
                            <div style="font-size: 24px; font-weight: bold; color: #fd7e14; margin-bottom: 5px;">${systemData.loadAverage[1].toFixed(2)}</div>
                            <div style="color: #666; font-size: 12px;">5 Minutes</div>
                        </div>
                        <div>
                            <div style="font-size: 24px; font-weight: bold; color: #fd7e14; margin-bottom: 5px;">${systemData.loadAverage[2].toFixed(2)}</div>
                            <div style="color: #666; font-size: 12px;">15 Minutes</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function loadNetworkContent(content) {
            content.innerHTML = `
                <div class="section-title">
                    <span>🌐</span>
                    <span>Network Monitoring</span>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
                    <div class="stat-card">
                        <div class="stat-value network">${(systemData.network.bytesIn / (1024**2)).toFixed(1)} MB</div>
                        <div class="stat-label">Bytes Received</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value network">${(systemData.network.bytesOut / (1024**2)).toFixed(1)} MB</div>
                        <div class="stat-label">Bytes Sent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value network">${systemData.network.speed.toFixed(1)} MB/s</div>
                        <div class="stat-label">Current Speed</div>
                    </div>
                </div>

                <div class="info-card">
                    <h4>Network Interfaces</h4>
                    <table class="processes-table">
                        <thead>
                            <tr>
                                <th>Interface</th>
                                <th>Status</th>
                                <th>IP Address</th>
                                <th>Speed</th>
                                <th>Packets In/Out</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: 600;">eth0</td>
                                <td><span class="status-running">Connected</span></td>
                                <td>192.168.1.100</td>
                                <td>1 Gbps</td>
                                <td>${systemData.network.packetsIn.toLocaleString()} / ${systemData.network.packetsOut.toLocaleString()}</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600;">wlan0</td>
                                <td><span class="status-sleeping">Disconnected</span></td>
                                <td>-</td>
                                <td>300 Mbps</td>
                                <td>0 / 0</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600;">lo</td>
                                <td><span class="status-running">Active</span></td>
                                <td>127.0.0.1</td>
                                <td>-</td>
                                <td>1,234 / 1,234</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
        }

        function loadStorageContent(content) {
            content.innerHTML = `
                <div class="section-title">
                    <span>💿</span>
                    <span>Storage Monitoring</span>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
                    <div class="stat-card">
                        <div class="stat-value disk">${(systemData.disk.total / (1024**3)).toFixed(0)} GB</div>
                        <div class="stat-label">Total Capacity</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value disk">${(systemData.disk.used / (1024**3)).toFixed(0)} GB</div>
                        <div class="stat-label">Used Space</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value disk">${((systemData.disk.total - systemData.disk.used) / (1024**3)).toFixed(0)} GB</div>
                        <div class="stat-label">Free Space</div>
                    </div>
                </div>

                <div class="info-card" style="margin-bottom: 20px;">
                    <h4>Disk Usage</h4>
                    <div style="margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>Primary SSD (/)</span>
                            <span style="font-weight: 600;">${systemData.disk.percentage}%</span>
                        </div>
                        <div style="width: 100%; height: 12px; background: #e9ecef; border-radius: 6px;">
                            <div style="height: 100%; background: linear-gradient(90deg, #fd7e14, #e83e8c); width: ${systemData.disk.percentage}%; border-radius: 6px; transition: width 0.5s ease;"></div>
                        </div>
                    </div>
                </div>

                <div class="info-card">
                    <h4>Storage Devices</h4>
                    <table class="processes-table">
                        <thead>
                            <tr>
                                <th>Device</th>
                                <th>Type</th>
                                <th>Size</th>
                                <th>Mount Point</th>
                                <th>Usage</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: 600;">/dev/nvme0n1p1</td>
                                <td>NVMe SSD</td>
                                <td>256 GB</td>
                                <td>/</td>
                                <td>50%</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600;">/dev/sda1</td>
                                <td>SATA HDD</td>
                                <td>1 TB</td>
                                <td>/home</td>
                                <td>25%</td>
                            </tr>
                            <tr>
                                <td style="font-weight: 600;">/dev/sdb1</td>
                                <td>USB Drive</td>
                                <td>32 GB</td>
                                <td>/media/usb</td>
                                <td>12%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
        }
    </script>
</body>
</html>
