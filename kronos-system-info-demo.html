<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kronos OS - Advanced System Information</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Ubuntu', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            height: 100vh;
            overflow: hidden;
        }
        
        .sysinfo-window {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 1100px;
            height: 750px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .sysinfo-header {
            background: linear-gradient(to right, #E95420, #D44414);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .sysinfo-title {
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sysinfo-controls {
            display: flex;
            gap: 8px;
        }
        
        .control-btn {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }
        
        .minimize { background: #FFC107; color: #333; }
        .maximize { background: #28A745; color: white; }
        .close { background: #DC3545; color: white; }
        
        .sysinfo-toolbar {
            background: #f8f9fa;
            padding: 12px 20px;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .refresh-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .refresh-btn {
            background: #28A745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .refresh-btn:hover {
            background: #218838;
        }
        
        .auto-refresh-toggle {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .export-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-left: auto;
        }
        
        .export-btn:hover {
            background: #0056b3;
        }
        
        .sysinfo-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        .sysinfo-sidebar {
            width: 220px;
            background: #f8f9fa;
            border-right: 1px solid #dee2e6;
            overflow-y: auto;
        }
        
        .category-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .category-item:hover {
            background: #e9ecef;
        }
        
        .category-item.active {
            background: #E95420;
            color: white;
            border-left: 4px solid #D44414;
        }
        
        .category-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }
        
        .category-info {
            flex: 1;
        }
        
        .category-name {
            font-weight: 600;
            margin-bottom: 2px;
        }
        
        .category-desc {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .sysinfo-main {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: white;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.2s;
        }
        
        .info-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: #E95420;
        }
        
        .info-card-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            font-size: 16px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 4px 0;
        }
        
        .info-label {
            color: #666;
            font-weight: 500;
        }
        
        .info-value {
            color: #333;
            font-weight: 600;
        }
        
        .usage-bar-container {
            margin: 15px 0;
        }
        
        .usage-bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .usage-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .usage-bar-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .usage-bar-fill.cpu {
            background: linear-gradient(90deg, #28a745, #20c997);
        }
        
        .usage-bar-fill.memory {
            background: linear-gradient(90deg, #007bff, #6610f2);
        }
        
        .usage-bar-fill.storage {
            background: linear-gradient(90deg, #fd7e14, #e83e8c);
        }
        
        .usage-bar-fill.gpu {
            background: linear-gradient(90deg, #6f42c1, #e83e8c);
        }
        
        .usage-bar-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: 600;
            font-size: 12px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        .real-time-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.2s;
        }
        
        .stat-card:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #E95420;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .temperature {
            color: #dc3545;
        }
        
        .frequency {
            color: #6610f2;
        }
        
        .processes {
            color: #20c997;
        }
        
        .uptime {
            color: #fd7e14;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28A745;
            color: white;
            padding: 12px 16px;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 3000;
            display: none;
            max-width: 300px;
        }
        
        .notification.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        .notification.info {
            background: #17A2B8;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .advanced-toggle {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
        }
        
        .device-list {
            margin-top: 15px;
        }
        
        .device-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 10px;
        }
        
        .device-header {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }
        
        .device-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="sysinfo-window">
        <!-- System Info Header -->
        <div class="sysinfo-header">
            <div class="sysinfo-title">
                <span>ℹ️</span>
                <span>Kronos OS System Information - Advanced Hardware & Software Details</span>
            </div>
            <div class="sysinfo-controls">
                <button class="control-btn minimize">−</button>
                <button class="control-btn maximize">□</button>
                <button class="control-btn close">×</button>
            </div>
        </div>

        <!-- System Info Toolbar -->
        <div class="sysinfo-toolbar">
            <div class="refresh-controls">
                <button class="refresh-btn" onclick="refreshSystemInfo()">🔄 Refresh</button>
                <div class="auto-refresh-toggle">
                    <input type="checkbox" id="autoRefresh" checked onchange="toggleAutoRefresh()">
                    <label for="autoRefresh">Auto-refresh (2s)</label>
                </div>
            </div>
            <div class="advanced-toggle">
                <input type="checkbox" id="showAdvanced" onchange="toggleAdvanced()">
                <label for="showAdvanced">Show Advanced</label>
            </div>
            <button class="export-btn" onclick="exportSystemInfo()">📋 Export Info</button>
        </div>

        <!-- System Info Content -->
        <div class="sysinfo-content">
            <!-- Sidebar -->
            <div class="sysinfo-sidebar">
                <div class="category-item active" onclick="selectCategory('overview')">
                    <div class="category-icon">📊</div>
                    <div class="category-info">
                        <div class="category-name">Overview</div>
                        <div class="category-desc">System summary</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('cpu')">
                    <div class="category-icon">🖥️</div>
                    <div class="category-info">
                        <div class="category-name">Processor</div>
                        <div class="category-desc">CPU details & usage</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('memory')">
                    <div class="category-icon">💾</div>
                    <div class="category-info">
                        <div class="category-name">Memory</div>
                        <div class="category-desc">RAM & virtual memory</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('storage')">
                    <div class="category-icon">💿</div>
                    <div class="category-info">
                        <div class="category-name">Storage</div>
                        <div class="category-desc">Disks & file systems</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('graphics')">
                    <div class="category-icon">🎮</div>
                    <div class="category-info">
                        <div class="category-name">Graphics</div>
                        <div class="category-desc">GPU & display info</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('network')">
                    <div class="category-icon">🌐</div>
                    <div class="category-info">
                        <div class="category-name">Network</div>
                        <div class="category-desc">Network interfaces</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('system')">
                    <div class="category-icon">⚙️</div>
                    <div class="category-info">
                        <div class="category-name">System</div>
                        <div class="category-desc">OS & kernel info</div>
                    </div>
                </div>
                <div class="category-item" onclick="selectCategory('performance')">
                    <div class="category-icon">⚡</div>
                    <div class="category-info">
                        <div class="category-name">Performance</div>
                        <div class="category-desc">Real-time monitoring</div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="sysinfo-main" id="sysinfoMain">
                <!-- Overview Content (Default) -->
                <div class="section-title">
                    <span>📊</span>
                    <span>System Overview</span>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-title">Operating System</div>
                        <div class="info-item">
                            <span class="info-label">OS Name:</span>
                            <span class="info-value">Kronos OS Advanced</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Version:</span>
                            <span class="info-value">2.0.1 LTS</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Kernel:</span>
                            <span class="info-value">5.15.0-kronos</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Architecture:</span>
                            <span class="info-value">x86_64</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Computer Information</div>
                        <div class="info-item">
                            <span class="info-label">Computer Name:</span>
                            <span class="info-value">kronos-desktop</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">User:</span>
                            <span class="info-value">administrator</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Domain:</span>
                            <span class="info-value">WORKGROUP</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Uptime:</span>
                            <span class="info-value" id="uptimeValue">2 days, 14:32:18</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Hardware Summary</div>
                        <div class="info-item">
                            <span class="info-label">Processor:</span>
                            <span class="info-value">Intel Core i7-8550U</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Memory:</span>
                            <span class="info-value">8.0 GB RAM</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Storage:</span>
                            <span class="info-value">256 GB SSD + 1 TB HDD</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Graphics:</span>
                            <span class="info-value">Intel UHD Graphics 620</span>
                        </div>
                    </div>
                </div>

                <!-- Resource Usage -->
                <div class="info-card">
                    <div class="info-card-title">Resource Usage</div>

                    <div class="usage-bar-container">
                        <div class="usage-bar-label">
                            <span>CPU Usage</span>
                            <span id="cpuUsageText">15.2%</span>
                        </div>
                        <div class="usage-bar">
                            <div class="usage-bar-fill cpu" id="cpuUsageBar" style="width: 15.2%;">
                                <div class="usage-bar-text">15.2%</div>
                            </div>
                        </div>
                    </div>

                    <div class="usage-bar-container">
                        <div class="usage-bar-label">
                            <span>Memory Usage</span>
                            <span id="memoryUsageText">2.1 GB / 8.0 GB (26%)</span>
                        </div>
                        <div class="usage-bar">
                            <div class="usage-bar-fill memory" id="memoryUsageBar" style="width: 26%;">
                                <div class="usage-bar-text">26%</div>
                            </div>
                        </div>
                    </div>

                    <div class="usage-bar-container">
                        <div class="usage-bar-label">
                            <span>Storage Usage (Primary)</span>
                            <span id="storageUsageText">128 GB / 256 GB (50%)</span>
                        </div>
                        <div class="usage-bar">
                            <div class="usage-bar-fill storage" id="storageUsageBar" style="width: 50%;">
                                <div class="usage-bar-text">50%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Real-time Statistics -->
                <div class="real-time-stats">
                    <div class="stat-card">
                        <div class="stat-value temperature" id="cpuTemp">45.2°C</div>
                        <div class="stat-label">CPU Temperature</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value frequency" id="cpuFreq">2.4 GHz</div>
                        <div class="stat-label">CPU Frequency</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value processes" id="processCount">187</div>
                        <div class="stat-label">Running Processes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value uptime" id="loadAvg">0.85</div>
                        <div class="stat-label">Load Average (1m)</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // System information state
        let currentCategory = 'overview';
        let autoRefresh = true;
        let showAdvanced = false;
        let refreshInterval;

        // Simulated system data
        let systemData = {
            cpu: {
                usage: 15.2,
                temperature: 45.2,
                frequency: 2.4,
                model: 'Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz',
                cores: 4,
                threads: 8,
                baseFreq: 1800,
                maxFreq: 4000,
                cache: { l1: 256, l2: 1024, l3: 8192 },
                features: 'SSE SSE2 SSE3 SSSE3 SSE4.1 SSE4.2 AVX AVX2 AES-NI VT-x'
            },
            memory: {
                total: 8589934592, // 8GB in bytes
                used: 2147483648,  // 2GB in bytes
                available: 6442450944,
                modules: [
                    { size: '4 GB', type: 'DDR4', speed: '2400 MHz', manufacturer: 'Samsung' },
                    { size: '4 GB', type: 'DDR4', speed: '2400 MHz', manufacturer: 'Samsung' }
                ]
            },
            storage: [
                {
                    name: 'Primary SSD',
                    type: 'NVMe SSD',
                    interface: 'PCIe 3.0',
                    total: 274877906944, // 256GB
                    used: 137438953472, // 128GB
                    manufacturer: 'Samsung',
                    model: '980 PRO',
                    temperature: 42.0,
                    readSpeed: '3,500 MB/s',
                    writeSpeed: '3,000 MB/s'
                },
                {
                    name: 'Secondary HDD',
                    type: 'HDD',
                    interface: 'SATA 3.0',
                    total: 1099511627776, // 1TB
                    used: 274877906944,   // 250GB
                    manufacturer: 'Western Digital',
                    model: 'WD Blue',
                    temperature: 35.0,
                    rpm: 7200,
                    readSpeed: '150 MB/s',
                    writeSpeed: '140 MB/s'
                }
            ],
            graphics: {
                vendor: 'Intel Corporation',
                model: 'Intel UHD Graphics 620',
                driver: '27.20.100.8681',
                memory: 2147483648, // 2GB
                memoryUsed: 536870912, // 512MB
                coreClockBase: 300,
                coreClockMax: 1150,
                memoryClockBase: 1067,
                usage: 25.0,
                temperature: 55.0
            },
            network: [
                {
                    name: 'Ethernet',
                    type: 'Wired',
                    mac: '00:1B:44:11:3A:B7',
                    ip: '192.168.1.100',
                    speed: '1 Gbps',
                    status: 'Connected',
                    bytesSent: 1073741824,    // 1GB
                    bytesReceived: 5368709120 // 5GB
                },
                {
                    name: 'WiFi',
                    type: 'Wireless',
                    mac: 'A4:34:D9:12:34:56',
                    ip: '192.168.1.101',
                    speed: '300 Mbps',
                    status: 'Disconnected',
                    bytesSent: 536870912,     // 512MB
                    bytesReceived: 2147483648 // 2GB
                }
            ],
            system: {
                osName: 'Kronos OS',
                osVersion: '2.0.1 LTS',
                kernel: '5.15.0-kronos',
                hostname: 'kronos-desktop',
                username: 'administrator',
                uptime: 214392, // seconds
                bootTime: Date.now() - 214392000,
                processes: 187,
                threads: 561,
                loadAvg: [0.85, 0.72, 0.68]
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            startAutoRefresh();
            updateSystemInfo();
            showNotification('System information loaded successfully!', 'info');
        });

        // Category selection
        function selectCategory(category) {
            currentCategory = category;

            // Update sidebar
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.category-item').classList.add('active');

            // Load category content
            loadCategoryContent(category);
        }

        // Load category content
        function loadCategoryContent(category) {
            const main = document.getElementById('sysinfoMain');

            switch (category) {
                case 'overview':
                    loadOverviewContent(main);
                    break;
                case 'cpu':
                    loadCPUContent(main);
                    break;
                case 'memory':
                    loadMemoryContent(main);
                    break;
                case 'storage':
                    loadStorageContent(main);
                    break;
                case 'graphics':
                    loadGraphicsContent(main);
                    break;
                case 'network':
                    loadNetworkContent(main);
                    break;
                case 'system':
                    loadSystemContent(main);
                    break;
                case 'performance':
                    loadPerformanceContent(main);
                    break;
            }
        }

        // Load CPU content
        function loadCPUContent(main) {
            const cpu = systemData.cpu;
            main.innerHTML = `
                <div class="section-title">
                    <span>🖥️</span>
                    <span>Processor Information</span>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-title">CPU Details</div>
                        <div class="info-item">
                            <span class="info-label">Model:</span>
                            <span class="info-value">${cpu.model}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Cores:</span>
                            <span class="info-value">${cpu.cores} cores, ${cpu.threads} threads</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Base Frequency:</span>
                            <span class="info-value">${cpu.baseFreq} MHz</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Max Frequency:</span>
                            <span class="info-value">${cpu.maxFreq} MHz</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Cache Information</div>
                        <div class="info-item">
                            <span class="info-label">L1 Cache:</span>
                            <span class="info-value">${cpu.cache.l1} KB</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">L2 Cache:</span>
                            <span class="info-value">${cpu.cache.l2} KB</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">L3 Cache:</span>
                            <span class="info-value">${cpu.cache.l3} KB</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Real-time Status</div>
                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>CPU Usage</span>
                                <span>${cpu.usage}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill cpu" style="width: ${cpu.usage}%;">
                                    <div class="usage-bar-text">${cpu.usage}%</div>
                                </div>
                            </div>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Temperature:</span>
                            <span class="info-value temperature">${cpu.temperature}°C</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Current Frequency:</span>
                            <span class="info-value frequency">${cpu.frequency} GHz</span>
                        </div>
                    </div>
                </div>

                ${showAdvanced ? `
                <div class="info-card">
                    <div class="info-card-title">CPU Features</div>
                    <div class="info-item">
                        <span class="info-label">Supported Instructions:</span>
                        <span class="info-value">${cpu.features}</span>
                    </div>
                </div>
                ` : ''}
            `;
        }

        // Load Memory content
        function loadMemoryContent(main) {
            const mem = systemData.memory;
            const usagePercent = ((mem.used / mem.total) * 100).toFixed(1);

            main.innerHTML = `
                <div class="section-title">
                    <span>💾</span>
                    <span>Memory Information</span>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-title">Physical Memory</div>
                        <div class="info-item">
                            <span class="info-label">Total:</span>
                            <span class="info-value">${formatBytes(mem.total)}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Used:</span>
                            <span class="info-value">${formatBytes(mem.used)}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Available:</span>
                            <span class="info-value">${formatBytes(mem.available)}</span>
                        </div>

                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>Memory Usage</span>
                                <span>${usagePercent}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill memory" style="width: ${usagePercent}%;">
                                    <div class="usage-bar-text">${usagePercent}%</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Memory Modules</div>
                        ${mem.modules.map((module, index) => `
                            <div class="info-item">
                                <span class="info-label">Module ${index + 1}:</span>
                                <span class="info-value">${module.size} ${module.type}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Speed:</span>
                                <span class="info-value">${module.speed}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Manufacturer:</span>
                                <span class="info-value">${module.manufacturer}</span>
                            </div>
                            ${index < mem.modules.length - 1 ? '<hr style="margin: 10px 0; border: none; border-top: 1px solid #eee;">' : ''}
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Load Storage content
        function loadStorageContent(main) {
            const storage = systemData.storage;

            main.innerHTML = `
                <div class="section-title">
                    <span>💿</span>
                    <span>Storage Information</span>
                </div>

                <div class="device-list">
                    ${storage.map((device, index) => {
                        const usagePercent = ((device.used / device.total) * 100).toFixed(1);
                        return `
                            <div class="device-item">
                                <div class="device-header">${device.name} (${device.type})</div>
                                <div class="device-details">
                                    <div class="info-item">
                                        <span class="info-label">Type:</span>
                                        <span class="info-value">${device.type}</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Interface:</span>
                                        <span class="info-value">${device.interface}</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Capacity:</span>
                                        <span class="info-value">${formatBytes(device.total)}</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Free Space:</span>
                                        <span class="info-value">${formatBytes(device.total - device.used)}</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Model:</span>
                                        <span class="info-value">${device.manufacturer} ${device.model}</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Temperature:</span>
                                        <span class="info-value temperature">${device.temperature}°C</span>
                                    </div>
                                </div>

                                <div class="usage-bar-container">
                                    <div class="usage-bar-label">
                                        <span>Storage Usage</span>
                                        <span>${usagePercent}%</span>
                                    </div>
                                    <div class="usage-bar">
                                        <div class="usage-bar-fill storage" style="width: ${usagePercent}%;">
                                            <div class="usage-bar-text">${usagePercent}%</div>
                                        </div>
                                    </div>
                                </div>

                                ${showAdvanced ? `
                                    <div class="device-details" style="margin-top: 15px;">
                                        <div class="info-item">
                                            <span class="info-label">Read Speed:</span>
                                            <span class="info-value">${device.readSpeed}</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Write Speed:</span>
                                            <span class="info-value">${device.writeSpeed}</span>
                                        </div>
                                        ${device.rpm ? `
                                            <div class="info-item">
                                                <span class="info-label">RPM:</span>
                                                <span class="info-value">${device.rpm}</span>
                                            </div>
                                        ` : ''}
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        // Load Graphics content
        function loadGraphicsContent(main) {
            const gpu = systemData.graphics;
            const memUsagePercent = ((gpu.memoryUsed / gpu.memory) * 100).toFixed(1);

            main.innerHTML = `
                <div class="section-title">
                    <span>🎮</span>
                    <span>Graphics Information</span>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-title">Graphics Card</div>
                        <div class="info-item">
                            <span class="info-label">Vendor:</span>
                            <span class="info-value">${gpu.vendor}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Model:</span>
                            <span class="info-value">${gpu.model}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Driver Version:</span>
                            <span class="info-value">${gpu.driver}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Total Memory:</span>
                            <span class="info-value">${formatBytes(gpu.memory)}</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Performance</div>
                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>GPU Usage</span>
                                <span>${gpu.usage}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill gpu" style="width: ${gpu.usage}%;">
                                    <div class="usage-bar-text">${gpu.usage}%</div>
                                </div>
                            </div>
                        </div>

                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>Memory Usage</span>
                                <span>${memUsagePercent}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill memory" style="width: ${memUsagePercent}%;">
                                    <div class="usage-bar-text">${memUsagePercent}%</div>
                                </div>
                            </div>
                        </div>

                        <div class="info-item">
                            <span class="info-label">Temperature:</span>
                            <span class="info-value temperature">${gpu.temperature}°C</span>
                        </div>
                    </div>

                    ${showAdvanced ? `
                    <div class="info-card">
                        <div class="info-card-title">Clock Speeds</div>
                        <div class="info-item">
                            <span class="info-label">Base Core Clock:</span>
                            <span class="info-value">${gpu.coreClockBase} MHz</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Max Core Clock:</span>
                            <span class="info-value">${gpu.coreClockMax} MHz</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Memory Clock:</span>
                            <span class="info-value">${gpu.memoryClockBase} MHz</span>
                        </div>
                    </div>
                    ` : ''}
                </div>
            `;
        }

        // Load Network content
        function loadNetworkContent(main) {
            const network = systemData.network;

            main.innerHTML = `
                <div class="section-title">
                    <span>🌐</span>
                    <span>Network Information</span>
                </div>

                <div class="device-list">
                    ${network.map((interface, index) => `
                        <div class="device-item">
                            <div class="device-header">${interface.name} (${interface.type})</div>
                            <div class="device-details">
                                <div class="info-item">
                                    <span class="info-label">Status:</span>
                                    <span class="info-value" style="color: ${interface.status === 'Connected' ? '#28a745' : '#dc3545'}">${interface.status}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">IP Address:</span>
                                    <span class="info-value">${interface.ip}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">MAC Address:</span>
                                    <span class="info-value">${interface.mac}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Link Speed:</span>
                                    <span class="info-value">${interface.speed}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Bytes Sent:</span>
                                    <span class="info-value">${formatBytes(interface.bytesSent)}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Bytes Received:</span>
                                    <span class="info-value">${formatBytes(interface.bytesReceived)}</span>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Utility functions
        function formatBytes(bytes) {
            const units = ['B', 'KB', 'MB', 'GB', 'TB'];
            let size = bytes;
            let unitIndex = 0;

            while (size >= 1024 && unitIndex < units.length - 1) {
                size /= 1024;
                unitIndex++;
            }

            return `${size.toFixed(unitIndex === 0 ? 0 : 1)} ${units[unitIndex]}`;
        }

        function formatUptime(seconds) {
            const days = Math.floor(seconds / 86400);
            const hours = Math.floor((seconds % 86400) / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;

            if (days > 0) {
                return `${days} days, ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
        }

        // Update system information
        function updateSystemInfo() {
            // Simulate real-time data changes
            systemData.cpu.usage = 10 + Math.random() * 30;
            systemData.cpu.temperature = 40 + Math.random() * 20;
            systemData.cpu.frequency = 1.8 + Math.random() * 2.2;
            systemData.graphics.usage = 5 + Math.random() * 40;
            systemData.graphics.temperature = 50 + Math.random() * 15;
            systemData.system.uptime += 2;
            systemData.system.processes = 180 + Math.floor(Math.random() * 20);
            systemData.system.loadAvg[0] = 0.3 + Math.random() * 1.2;

            // Update overview if currently displayed
            if (currentCategory === 'overview') {
                updateOverviewRealtime();
            } else {
                // Reload current category to show updated data
                loadCategoryContent(currentCategory);
            }
        }

        // Update overview real-time elements
        function updateOverviewRealtime() {
            const cpuUsage = systemData.cpu.usage.toFixed(1);
            const memUsage = ((systemData.memory.used / systemData.memory.total) * 100).toFixed(1);
            const storageUsage = ((systemData.storage[0].used / systemData.storage[0].total) * 100).toFixed(1);

            // Update CPU usage
            document.getElementById('cpuUsageText').textContent = `${cpuUsage}%`;
            document.getElementById('cpuUsageBar').style.width = `${cpuUsage}%`;
            document.getElementById('cpuUsageBar').querySelector('.usage-bar-text').textContent = `${cpuUsage}%`;

            // Update memory usage
            const memUsedGB = (systemData.memory.used / (1024**3)).toFixed(1);
            const memTotalGB = (systemData.memory.total / (1024**3)).toFixed(1);
            document.getElementById('memoryUsageText').textContent = `${memUsedGB} GB / ${memTotalGB} GB (${memUsage}%)`;
            document.getElementById('memoryUsageBar').style.width = `${memUsage}%`;
            document.getElementById('memoryUsageBar').querySelector('.usage-bar-text').textContent = `${memUsage}%`;

            // Update storage usage
            const storageUsedGB = (systemData.storage[0].used / (1024**3)).toFixed(0);
            const storageTotalGB = (systemData.storage[0].total / (1024**3)).toFixed(0);
            document.getElementById('storageUsageText').textContent = `${storageUsedGB} GB / ${storageTotalGB} GB (${storageUsage}%)`;
            document.getElementById('storageUsageBar').style.width = `${storageUsage}%`;
            document.getElementById('storageUsageBar').querySelector('.usage-bar-text').textContent = `${storageUsage}%`;

            // Update real-time stats
            document.getElementById('cpuTemp').textContent = `${systemData.cpu.temperature.toFixed(1)}°C`;
            document.getElementById('cpuFreq').textContent = `${systemData.cpu.frequency.toFixed(1)} GHz`;
            document.getElementById('processCount').textContent = systemData.system.processes;
            document.getElementById('loadAvg').textContent = systemData.system.loadAvg[0].toFixed(2);
            document.getElementById('uptimeValue').textContent = formatUptime(systemData.system.uptime);
        }

        // Control functions
        function refreshSystemInfo() {
            updateSystemInfo();
            showNotification('System information refreshed!', 'info');
        }

        function toggleAutoRefresh() {
            autoRefresh = document.getElementById('autoRefresh').checked;
            if (autoRefresh) {
                startAutoRefresh();
                showNotification('Auto-refresh enabled', 'info');
            } else {
                stopAutoRefresh();
                showNotification('Auto-refresh disabled', 'info');
            }
        }

        function toggleAdvanced() {
            showAdvanced = document.getElementById('showAdvanced').checked;
            loadCategoryContent(currentCategory);
            showNotification(`Advanced details ${showAdvanced ? 'shown' : 'hidden'}`, 'info');
        }

        function exportSystemInfo() {
            const exportData = {
                timestamp: new Date().toISOString(),
                system: systemData.system,
                cpu: systemData.cpu,
                memory: systemData.memory,
                storage: systemData.storage,
                graphics: systemData.graphics,
                network: systemData.network
            };

            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);

            const link = document.createElement('a');
            link.href = url;
            link.download = `kronos-system-info-${Date.now()}.json`;
            link.click();

            URL.revokeObjectURL(url);
            showNotification('System information exported successfully!', 'info');
        }

        function startAutoRefresh() {
            if (refreshInterval) clearInterval(refreshInterval);
            refreshInterval = setInterval(updateSystemInfo, 2000); // 2 seconds
        }

        function stopAutoRefresh() {
            if (refreshInterval) {
                clearInterval(refreshInterval);
                refreshInterval = null;
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;

            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Load overview content (default)
        function loadOverviewContent(main) {
            // This function is called by default, content is already in HTML
            updateOverviewRealtime();
        }

        // Load system content
        function loadSystemContent(main) {
            const sys = systemData.system;

            main.innerHTML = `
                <div class="section-title">
                    <span>⚙️</span>
                    <span>System Information</span>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-title">Operating System</div>
                        <div class="info-item">
                            <span class="info-label">OS Name:</span>
                            <span class="info-value">${sys.osName}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Version:</span>
                            <span class="info-value">${sys.osVersion}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Kernel:</span>
                            <span class="info-value">${sys.kernel}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Architecture:</span>
                            <span class="info-value">x86_64</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">System Status</div>
                        <div class="info-item">
                            <span class="info-label">Hostname:</span>
                            <span class="info-value">${sys.hostname}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Username:</span>
                            <span class="info-value">${sys.username}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Uptime:</span>
                            <span class="info-value">${formatUptime(sys.uptime)}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Boot Time:</span>
                            <span class="info-value">${new Date(sys.bootTime).toLocaleString()}</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Process Information</div>
                        <div class="info-item">
                            <span class="info-label">Running Processes:</span>
                            <span class="info-value">${sys.processes}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Total Threads:</span>
                            <span class="info-value">${sys.threads}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Load Average (1m):</span>
                            <span class="info-value">${sys.loadAvg[0].toFixed(2)}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Load Average (5m):</span>
                            <span class="info-value">${sys.loadAvg[1].toFixed(2)}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Load Average (15m):</span>
                            <span class="info-value">${sys.loadAvg[2].toFixed(2)}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // Load performance content
        function loadPerformanceContent(main) {
            main.innerHTML = `
                <div class="section-title">
                    <span>⚡</span>
                    <span>Performance Monitoring</span>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-card-title">CPU Performance</div>
                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>CPU Usage</span>
                                <span>${systemData.cpu.usage.toFixed(1)}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill cpu" style="width: ${systemData.cpu.usage}%;">
                                    <div class="usage-bar-text">${systemData.cpu.usage.toFixed(1)}%</div>
                                </div>
                            </div>
                        </div>
                        <div class="real-time-stats">
                            <div class="stat-card">
                                <div class="stat-value temperature">${systemData.cpu.temperature.toFixed(1)}°C</div>
                                <div class="stat-label">Temperature</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value frequency">${systemData.cpu.frequency.toFixed(1)} GHz</div>
                                <div class="stat-label">Frequency</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Memory Performance</div>
                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>Memory Usage</span>
                                <span>${((systemData.memory.used / systemData.memory.total) * 100).toFixed(1)}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill memory" style="width: ${(systemData.memory.used / systemData.memory.total) * 100}%;">
                                    <div class="usage-bar-text">${((systemData.memory.used / systemData.memory.total) * 100).toFixed(1)}%</div>
                                </div>
                            </div>
                        </div>
                        <div class="real-time-stats">
                            <div class="stat-card">
                                <div class="stat-value processes">${formatBytes(systemData.memory.used)}</div>
                                <div class="stat-label">Used Memory</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value uptime">${formatBytes(systemData.memory.available)}</div>
                                <div class="stat-label">Available</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="info-card-title">Graphics Performance</div>
                        <div class="usage-bar-container">
                            <div class="usage-bar-label">
                                <span>GPU Usage</span>
                                <span>${systemData.graphics.usage.toFixed(1)}%</span>
                            </div>
                            <div class="usage-bar">
                                <div class="usage-bar-fill gpu" style="width: ${systemData.graphics.usage}%;">
                                    <div class="usage-bar-text">${systemData.graphics.usage.toFixed(1)}%</div>
                                </div>
                            </div>
                        </div>
                        <div class="real-time-stats">
                            <div class="stat-card">
                                <div class="stat-value temperature">${systemData.graphics.temperature.toFixed(1)}°C</div>
                                <div class="stat-label">GPU Temp</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value processes">${formatBytes(systemData.graphics.memoryUsed)}</div>
                                <div class="stat-label">VRAM Used</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-card">
                    <div class="info-card-title">System Load</div>
                    <div class="real-time-stats">
                        <div class="stat-card">
                            <div class="stat-value uptime">${systemData.system.loadAvg[0].toFixed(2)}</div>
                            <div class="stat-label">1 Minute</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value uptime">${systemData.system.loadAvg[1].toFixed(2)}</div>
                            <div class="stat-label">5 Minutes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value uptime">${systemData.system.loadAvg[2].toFixed(2)}</div>
                            <div class="stat-label">15 Minutes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value processes">${systemData.system.processes}</div>
                            <div class="stat-label">Processes</div>
                        </div>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
